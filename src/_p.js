(function(a){window.ppt={pages:a.querySelectorAll('#page>div'),l:0,nav:a.querySelector('#nav>div'),tsn:' cubic-bezier(0, 0, 0.7, 1.7)',ts:{transition:''},tf:{transform:''},currentPage:0,events:[],q:function(b){return a.querySelectorAll(b)},_go:function(d){var e=this;d>=e.l&&(d=e.l-1);d<0&&(d=0);var c={transform:'perspective(999px) rotateX(-90deg) rotateY(62deg)',opacity:0},b={transform:'perspective(999px) rotate(0)',opacity:1};if(d>e.currentPage){e.pages.slice(e.currentPage,d).css(c)}else{e.pages.slice(d,e.currentPage).css(b)}e.nav.css({width:(d+1)/e.l*100+'%'});e.currentPage=location.hash=d;e.events[d]&&e.events[d]()},changeHash:function(c){var b=this.getNav()+c;if(b>=this.l||b<0){return}location.hash=b},color:function(b){var d,e=this.color;b&&(d=40+Math.floor(Math.random()*30*b));b||(d='rgb('+e(1)+','+e(2)+','+e(3)+')');return d},keyEvent:function(b){b.which==8&&b.preventDefault();var b=b.which;([8,33,37,38].indexOf(b)>-1)&&ppt.changeHash(-1);([32,34,39,40].indexOf(b)>-1)&&ppt.changeHash(1)},getNav:function(){var b=location.hash.slice(1)*1;if(typeof b!='number'||b==NaN){b=0;location.hash=0}return b},init:function(c){c.initFuns();c.initPage(c);c.initLine(c);c.initPie(c);c.initBar(c);c.initSC(c);var b=function(){c._go(c.getNav())};setTimeout(b,0);document.onkeydown=c.keyEvent;window.onhashchange=b},initPage:function(c){c.q('#page').css({opacity:1,transition:'opacity .4s ease-out'},400);c.l=c.pages.length;var b;for(b=c.l;b--;){c.pages[b].css({background:c.color()});c.pages[b].css({zIndex:c.l-b});b&&c.pages[b].append('span',b)}},initLine:function(k){var j=k.q('#tline .spot'),g=k.q('#tline .txt'),b=k.q('#tline .txt:nth-child(even)'),h=k.q('#tline .txt:nth-child(odd)');var d=j.length,f;var c=['15','40','60','75'];var e=k.pages[1].style.background;k.events[1]=function(){[j,g].css(k.ts).css({left:0});b.css({bottom:0});h.css({top:0});setTimeout(function(){[j,g].css({transition:'.7s'+k.tsn});b.css({bottom:'4vh'});h.css({top:'20vh'});for(f=d;f--;){[j[f],g[f]].css({left:c[f]+'%'})}},99)}},initPie:function(o){var f=o.q('#pie>div'),e=o.q('#pie>div>div'),k=o.q('#pie-li>li'),g=o.q('#pie-li')[0],n=o.q('#pie-li>li>i');var b=['#007ac6','#328ed5','#63b9fb','#88cafc','#bbdffa'];var c=[2.7,3,3.2,1.1],j=0,h;var d=c.length;for(h=d;h--;){j+=c[h];[f[h].children[0],n[h]].css({background:b[h]})}for(h=d;h--;){c[h]=Math.ceil(c[h]/j*360)}var m=function(i){return function(r){var q=r.target.tagName=='LI'?r.target:r.target.parentNode;var l=k.indexOf(q),p=['1.1','1'];l>-1&&f[l].setTrans('scale',p[i])}};g.onmouseover=m(0);g.onmouseout=m(1);o.events[2]=function(){var l=0;var i={transition:'',transform:''},p={transition:' .7s'+o.tsn};f.css(i);e.css(i);k.css({transition:'',transform:'rotateY(90deg)'});setTimeout(function(){f.css(p);e.css(p);k.css(p);for(h=d;h--;){f[h].children[0].css({transform:'rotate('+c[h]+'deg)'});f[h].css({transform:'rotate('+l+'deg)'});l+=c[h];k[h].css({transform:'rotateX(0)'},160*h)}},99);setTimeout(function(){f.css({transition:'.2s ease-out'})},800)}},initBar:function(j){var h=j.q('.bar .part'),c=j.q('#works .prj'),e=j.q('#works .axis'),d=j.q('#works .start');var k=[2,3,2,2,3.2,5],b=['#AAF6FF','#65E2F1','#3EBFCE','#0A9AAB','#027B8C','#065C69'],g;var f=k.length;for(g=f;g--;){h[g].css({flex:k[g],background:b[g]})}j.events[3]=function(){[h,e,d,c].css(j.ts);h.css({height:0});e.css({width:0});d.css({opacity:0});c.css({transform:'',opacity:0});setTimeout(function(){e.css({transition:'1.8s ease-out',width:'100%'});d.css({transition:'3s',opacity:1},200);for(g=0;g<f;g++){h[g].css({transition:'.3s'+j.tsn,height:'100%'},300*g);c[g].css({transition:'.3s ease-out',transform:'rotate(40deg)',opacity:1},300*g)}},99)}},initSC:function(d){var e=d.q('.pc img'),c=d.q('.pc');for(var b=c.length;b--;){(function(){var f=d.pages.indexOf(c[b]);d.events[f]=function(){var h=d.pages[f].querySelectorAll('.left'),i=d.pages[f].querySelectorAll('.right'),g=d.pages[f].querySelectorAll('img');g.css(d.ts).css({opacity:0});h.css({transform:'translate(20vw) scale(0.5)'});i.css({transform:'translate(-30vw) scale(0.5)'});setTimeout(function(){g.css({transition:'.4s ease-out',opacity:1});h.css(d.tf);i.css(d.tf)},199)}})()}},initFuns:function(){NodeList.prototype.slice=Array.prototype.slice;NodeList.prototype.indexOf=Array.prototype.indexOf;Object.prototype.css=function(f,c){var e=this.length==undefined?[this]:this,d,b;if(c>0){setTimeout(function(){e.css(f)},c);return}for(d=e.length;d--;){if(e[d].length!=undefined){e[d].css(f)}else{for(b in f){e[d].style[b]=f[b]}}}return e};HTMLElement.prototype.append=function(b,c){var d=document.createElement(b);d.innerHTML=c;this.appendChild(d)};HTMLElement.prototype.setTrans=function(b,c){var h=this.style.transform;var j=h.indexOf(b),k=h.length,e=b.length;var f;if(j>-1){for(var g=j+e+2;g<k;g++){if(h[g]==')'){f=g+1;break}}h=h.slice(0,j)+h.slice(f)}var d=' '+b+'('+c+')';this.style.transform=h+d}}};ppt.init(ppt)})(document);